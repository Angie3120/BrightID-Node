import os
from eth_keys import keys
from eth_utils import decode_hex

INFURA_URL = os.environ['BN_CONSENSUS_INFURA_URL']
PRIVATE_KEY = os.environ['BN_CONSENSUS_PRIVATE_KEY']
ADDRESS = keys.PrivateKey(decode_hex(PRIVATE_KEY)).public_key.to_checksum_address()

GAS = int(os.environ['BN_CONSENSUS_GAS'])
GAS_PRICE = int(os.environ['BN_CONSENSUS_GAS_PRICE'])
TO_ADDRESS = os.environ['BN_CONSENSUS_TO_ADDRESS']

SNAPSHOTS_PERIOD = int(os.environ['BN_CONSENSUS_SNAPSHOTS_PERIOD'])
SNAPSHOTS_PATH = "/snapshots/dump_{}.zip"

APPLY_URL = os.environ['BN_CONSENSUS_APPLY_URL']
DUMP_URL = os.environ['BN_CONSENSUS_DUMP_URL']
MAX_COLLECTION_SIZE = os.environ['BN_CONSENSUS_MAX_COLLECTION_SIZE']

VOTING_ABI = [{'constant': True, 'inputs': [], 'name': 'hasInitialized', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_script', 'type': 'bytes'}], 'name': 'getEVMScriptExecutor', 'outputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'getRecoveryVault', 'outputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'MODIFY_QUORUM_ROLE', 'outputs': [{'name': '', 'type': 'bytes32'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'MODIFY_SUPPORT_ROLE', 'outputs': [{'name': '', 'type': 'bytes32'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [{'name': 'token', 'type': 'address'}], 'name': 'allowRecoverability', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'appId', 'outputs': [{'name': '', 'type': 'bytes32'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'getInitializationBlock', 'outputs': [{'name': '', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_token', 'type': 'address'}], 'name': 'transferToVault', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_sender', 'type': 'address'}, {'name': '_role', 'type': 'bytes32'}, {'name': '_params', 'type': 'uint256[]'}], 'name': 'canPerform', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'getEVMScriptRegistry', 'outputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'voteTime', 'outputs': [{'name': '', 'type': 'uint64'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'CREATE_VOTES_ROLE', 'outputs': [{'name': '', 'type': 'bytes32'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'kernel', 'outputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'minAcceptQuorumPct', 'outputs': [{'name': '', 'type': 'uint64'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'isPetrified', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'votesLength', 'outputs': [{'name': '', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'supportRequiredPct', 'outputs': [{'name': '', 'type': 'uint64'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'token', 'outputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'PCT_BASE', 'outputs': [{'name': '', 'type': 'uint64'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'voteId', 'type': 'uint256'}, {'indexed': True, 'name': 'creator', 'type': 'address'}, {'indexed': False, 'name': 'metadata', 'type': 'string'}], 'name': 'StartVote', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'voteId', 'type': 'uint256'}, {'indexed': True, 'name': 'voter', 'type': 'address'}, {'indexed': False, 'name': 'supports', 'type': 'bool'}, {'indexed': False, 'name': 'stake', 'type': 'uint256'}], 'name': 'CastVote', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'voteId', 'type': 'uint256'}], 'name': 'ExecuteVote', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': False, 'name': 'supportRequiredPct', 'type': 'uint64'}], 'name': 'ChangeSupportRequired', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': False, 'name': 'minAcceptQuorumPct', 'type': 'uint64'}], 'name': 'ChangeMinQuorum', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'executor', 'type': 'address'}, {'indexed': False, 'name': 'script', 'type': 'bytes'}, {'indexed': False, 'name': 'input', 'type': 'bytes'}, {'indexed': False, 'name': 'returnData', 'type': 'bytes'}], 'name': 'ScriptResult', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'vault', 'type': 'address'}, {'indexed': True, 'name': 'token', 'type': 'address'}, {'indexed': False, 'name': 'amount', 'type': 'uint256'}], 'name': 'RecoverToVault', 'type': 'event'}, {'constant': False, 'inputs': [{'name': '_token', 'type': 'address'}, {'name': '_supportRequiredPct', 'type': 'uint64'}, {'name': '_minAcceptQuorumPct', 'type': 'uint64'}, {'name': '_voteTime', 'type': 'uint64'}], 'name': 'initialize', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_supportRequiredPct', 'type': 'uint64'}], 'name': 'changeSupportRequiredPct', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_minAcceptQuorumPct', 'type': 'uint64'}], 'name': 'changeMinAcceptQuorumPct', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_executionScript', 'type': 'bytes'}, {'name': '_metadata', 'type': 'string'}], 'name': 'newVote', 'outputs': [{'name': 'voteId', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_executionScript', 'type': 'bytes'}, {'name': '_metadata', 'type': 'string'}, {'name': '_castVote', 'type': 'bool'}, {'name': '_executesIfDecided', 'type': 'bool'}], 'name': 'newVote', 'outputs': [{'name': 'voteId', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_voteId', 'type': 'uint256'}, {'name': '_supports', 'type': 'bool'}, {'name': '_executesIfDecided', 'type': 'bool'}], 'name': 'vote', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_voteId', 'type': 'uint256'}], 'name': 'executeVote', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': True, 'inputs': [], 'name': 'isForwarder', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'pure', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_evmScript', 'type': 'bytes'}], 'name': 'forward', 'outputs': [], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_sender', 'type': 'address'}, {'name': '', 'type': 'bytes'}], 'name': 'canForward', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_voteId', 'type': 'uint256'}], 'name': 'canExecute', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_voteId', 'type': 'uint256'}, {'name': '_voter', 'type': 'address'}], 'name': 'canVote', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_voteId', 'type': 'uint256'}], 'name': 'getVote', 'outputs': [{'name': 'open', 'type': 'bool'}, {'name': 'executed', 'type': 'bool'}, {'name': 'startDate', 'type': 'uint64'}, {'name': 'snapshotBlock', 'type': 'uint64'}, {'name': 'supportRequired', 'type': 'uint64'}, {'name': 'minAcceptQuorum', 'type': 'uint64'}, {'name': 'yea', 'type': 'uint256'}, {'name': 'nay', 'type': 'uint256'}, {'name': 'votingPower', 'type': 'uint256'}, {'name': 'script', 'type': 'bytes'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '_voteId', 'type': 'uint256'}, {'name': '_voter', 'type': 'address'}], 'name': 'getVoterState', 'outputs': [{'name': '', 'type': 'uint8'}], 'payable': False, 'stateMutability': 'view', 'type': 'function'}]
VOTING_ADDRESS = os.environ['BN_CONSENSUS_SEED_VOTING_ADDRESS']
