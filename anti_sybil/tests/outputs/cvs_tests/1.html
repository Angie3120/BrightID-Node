<!DOCTYPE html>
<meta charset="utf-8">
<style>
body {
  overflow:hidden;
   margin:0;
}

text {
  font-family: sans-serif;
  pointer-events: none;
}

</style>
<body>
<div id="info" style="margin: 10px; position: fixed;"></div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>
var w = window.innerWidth;
var h = window.innerHeight;

var keyc = true, keys = true, keyt = true, keyr = true, keyx = true, keyd = true, keyl = true, keym = true, keyh = true, key1 = true, key2 = true, key3 = true, key0 = true

var focus_node = null, highlight_node = null;

var text_center = true;
var outline = false;

var min_score = 0;
var max_score = 1;

color = function(d) {
	var colors_map = {
		'Honest': 'lightblue',
		'Seed': 'green',
		'Sybil': 'yellow',
		'Bridge Sybil': 'orange',
		'Non Bridge Sybil': 'yellow',
		'Attacker': 'gray'
	};
	console.log(d['node_type']);
	return colors_map[d['node_type']];
} ;

var highlight_color = "blue";
var highlight_trans = 0.1;

var size = d3.scale.pow().exponent(1)
  .domain([1,100])
  .range([8,24]);

var force = d3.layout.force()
  .linkDistance(60)
  .charge(-300)
  .size([w,h]);

var default_node_color = "#ccc";
//var default_node_color = "rgb(3,190,100)";
var default_link_color = "brown";
var nominal_base_node_size = 8;
var nominal_text_size = 10;
var max_text_size = 24;
var nominal_stroke = .5;
var max_stroke = 4.5;
var max_base_node_size = 36;
var min_zoom = 0.1;
var max_zoom = 7;
var svg = d3.select("body").append("svg");
var zoom = d3.behavior.zoom().scaleExtent([min_zoom,max_zoom])
var g = svg.append("g");
svg.style("cursor","move");

var graph = {"directed": false, "graph": [], "nodes": [{"rank": 75, "node_type": "Honest", "groups": ["group_2", "group_1"], "type": "circle", "id": 57, "size": 1}, {"rank": 84, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 94, "size": 1}, {"rank": 93, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 133, "size": 1}, {"rank": 58, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 115, "size": 1}, {"rank": 94, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 132, "size": 1}, {"rank": 77, "node_type": "Honest", "groups": ["group_0", "group_4"], "type": "circle", "id": 134, "size": 1}, {"rank": 82, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 135, "size": 1}, {"rank": 85, "node_type": "Honest", "groups": ["group_2", "group_4"], "type": "circle", "id": 136, "size": 1}, {"rank": 67, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 137, "size": 1}, {"rank": 85, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 95, "size": 1}, {"rank": 86, "node_type": "Honest", "groups": ["group_1", "group_4"], "type": "circle", "id": 76, "size": 1}, {"rank": 92, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 138, "size": 1}, {"rank": 56, "node_type": "Attacker", "groups": ["group_1", "sybil"], "type": "circle", "id": 2, "size": 1}, {"rank": 74, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 139, "size": 1}, {"rank": 81, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 119, "size": 1}, {"rank": 67, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 140, "size": 1}, {"rank": 75, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 141, "size": 1}, {"rank": 39, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 142, "size": 1}, {"rank": 72, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 143, "size": 1}, {"rank": 84, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 77, "size": 1}, {"rank": 28, "node_type": "Attacker", "groups": ["group_2", "sybil"], "type": "circle", "id": 3, "size": 1}, {"rank": 94, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 96, "size": 1}, {"rank": 57, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 145, "size": 1}, {"rank": 57, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 123, "size": 1}, {"rank": 57, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 147, "size": 1}, {"rank": 95, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 148, "size": 1}, {"rank": 53, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 149, "size": 1}, {"rank": 72, "node_type": "Honest", "groups": ["group_2", "group_0"], "type": "circle", "id": 97, "size": 1}, {"rank": 86, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 78, "size": 1}, {"rank": 73, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 150, "size": 1}, {"rank": 95, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 60, "size": 1}, {"rank": 82, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 151, "size": 1}, {"rank": 61, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 152, "size": 1}, {"rank": 33, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 127, "size": 1}, {"rank": 36, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 153, "size": 1}, {"rank": 82, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 154, "size": 1}, {"rank": 74, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 155, "size": 1}, {"rank": 67, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 79, "size": 1}, {"rank": 74, "node_type": "Attacker", "groups": ["sybil", "group_4"], "type": "circle", "id": 5, "size": 1}, {"rank": 98, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 98, "size": 1}, {"rank": 73, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 157, "size": 1}, {"rank": 48, "node_type": "Honest", "groups": ["group_3", "group_2"], "type": "circle", "id": 158, "size": 1}, {"rank": 55, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 131, "size": 1}, {"rank": 76, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 159, "size": 1}, {"rank": 86, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 160, "size": 1}, {"rank": 55, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 112, "size": 1}, {"rank": 86, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 161, "size": 1}, {"rank": 81, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 99, "size": 1}, {"rank": 26, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 24, "size": 1}, {"rank": 60, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 162, "size": 1}, {"rank": 48, "node_type": "Attacker", "groups": ["group_3", "sybil"], "type": "circle", "id": 6, "size": 1}, {"rank": 49, "node_type": "Honest", "groups": ["group_3", "group_2"], "type": "circle", "id": 163, "size": 1}, {"rank": 70, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 126, "size": 1}, {"rank": 59, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 165, "size": 1}, {"rank": 92, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 166, "size": 1}, {"rank": 95, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 116, "size": 1}, {"rank": 81, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 167, "size": 1}, {"rank": 47, "node_type": "Honest", "groups": ["group_3", "group_0"], "type": "circle", "id": 81, "size": 1}, {"rank": 72, "node_type": "Attacker", "groups": ["group_1", "sybil"], "type": "circle", "id": 7, "size": 1}, {"rank": 78, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 100, "size": 1}, {"rank": 41, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 169, "size": 1}, {"rank": 32, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 170, "size": 1}, {"rank": 80, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 171, "size": 1}, {"rank": 48, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 156, "size": 1}, {"rank": 94, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 120, "size": 1}, {"rank": 81, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 101, "size": 1}, {"rank": 95, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 82, "size": 1}, {"rank": 49, "node_type": "Attacker", "groups": ["group_3", "sybil"], "type": "circle", "id": 8, "size": 1}, {"rank": 50, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 86, "size": 1}, {"rank": 46, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 83, "size": 1}, {"rank": 76, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 124, "size": 1}, {"rank": 41, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 65, "size": 1}, {"rank": 59, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 102, "size": 1}, {"rank": 92, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 144, "size": 1}, {"rank": 82, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 90, "size": 1}, {"rank": 40, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 164, "size": 1}, {"rank": 62, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 128, "size": 1}, {"rank": 73, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 103, "size": 1}, {"rank": 67, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 84, "size": 1}, {"rank": 32, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 66, "size": 1}, {"rank": 85, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 113, "size": 1}, {"rank": 86, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 118, "size": 1}, {"rank": 57, "node_type": "Seed", "groups": ["group_2"], "type": "circle", "id": 20, "size": 1}, {"rank": 36, "node_type": "Seed", "groups": ["group_3"], "type": "circle", "id": 21, "size": 1}, {"rank": 100, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 168, "size": 1}, {"rank": 83, "node_type": "Seed", "groups": ["group_1"], "type": "circle", "id": 22, "size": 1}, {"rank": 0, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 29, "size": 1}, {"rank": 77, "node_type": "Attacker", "groups": ["group_2", "group_1", "sybil"], "type": "circle", "id": 11, "size": 1}, {"rank": 78, "node_type": "Seed", "groups": ["group_4"], "type": "circle", "id": 23, "size": 1}, {"rank": 81, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 104, "size": 1}, {"rank": 89, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 80, "size": 1}, {"rank": 84, "node_type": "Honest", "groups": ["group_1", "group_4"], "type": "circle", "id": 117, "size": 1}, {"rank": 32, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 25, "size": 1}, {"rank": 43, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 26, "size": 1}, {"rank": 30, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 27, "size": 1}, {"rank": 3, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 28, "size": 1}, {"rank": 56, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 105, "size": 1}, {"rank": 62, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 85, "size": 1}, {"rank": 76, "node_type": "Attacker", "groups": ["sybil", "group_4"], "type": "circle", "id": 12, "size": 1}, {"rank": 14, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 30, "size": 1}, {"rank": 25, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 31, "size": 1}, {"rank": 41, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 32, "size": 1}, {"rank": 38, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 33, "size": 1}, {"rank": 14, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 34, "size": 1}, {"rank": 90, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 87, "size": 1}, {"rank": 50, "node_type": "Attacker", "groups": ["group_3", "group_0", "sybil"], "type": "circle", "id": 13, "size": 1}, {"rank": 21, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 35, "size": 1}, {"rank": 65, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 106, "size": 1}, {"rank": 19, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 36, "size": 1}, {"rank": 36, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 37, "size": 1}, {"rank": 91, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 125, "size": 1}, {"rank": 55, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 38, "size": 1}, {"rank": 45, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 39, "size": 1}, {"rank": 45, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 40, "size": 1}, {"rank": 94, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 107, "size": 1}, {"rank": 45, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 41, "size": 1}, {"rank": 86, "node_type": "Seed", "groups": ["group_1"], "type": "circle", "id": 14, "size": 1}, {"rank": 0, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 42, "size": 1}, {"rank": 24, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 43, "size": 1}, {"rank": 73, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 129, "size": 1}, {"rank": 34, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 146, "size": 1}, {"rank": 1, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 44, "size": 1}, {"rank": 31, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 45, "size": 1}, {"rank": 82, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 121, "size": 1}, {"rank": 39, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 46, "size": 1}, {"rank": 79, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 89, "size": 1}, {"rank": 70, "node_type": "Seed", "groups": ["group_4"], "type": "circle", "id": 15, "size": 1}, {"rank": 22, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 47, "size": 1}, {"rank": 72, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 108, "size": 1}, {"rank": 68, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 130, "size": 1}, {"rank": 31, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 48, "size": 1}, {"rank": 31, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 49, "size": 1}, {"rank": 42, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 50, "size": 1}, {"rank": 43, "node_type": "Sybil", "groups": ["sybil"], "type": "circle", "id": 51, "size": 1}, {"rank": 79, "node_type": "Honest", "groups": ["group_0", "group_4"], "type": "circle", "id": 114, "size": 1}, {"rank": 69, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 52, "size": 1}, {"rank": 74, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 109, "size": 1}, {"rank": 72, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 53, "size": 1}, {"rank": 49, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 72, "size": 1}, {"rank": 79, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 54, "size": 1}, {"rank": 79, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 55, "size": 1}, {"rank": 70, "node_type": "Attacker", "groups": ["group_0", "sybil"], "type": "circle", "id": 0, "size": 1}, {"rank": 44, "node_type": "Attacker", "groups": ["group_3", "sybil"], "type": "circle", "id": 1, "size": 1}, {"rank": 86, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 58, "size": 1}, {"rank": 37, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 91, "size": 1}, {"rank": 62, "node_type": "Seed", "groups": ["group_0"], "type": "circle", "id": 17, "size": 1}, {"rank": 72, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 59, "size": 1}, {"rank": 61, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 110, "size": 1}, {"rank": 25, "node_type": "Attacker", "groups": ["group_3", "sybil"], "type": "circle", "id": 4, "size": 1}, {"rank": 63, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 61, "size": 1}, {"rank": 82, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 62, "size": 1}, {"rank": 92, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 63, "size": 1}, {"rank": 77, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 64, "size": 1}, {"rank": 33, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 122, "size": 1}, {"rank": 83, "node_type": "Honest", "groups": ["group_1", "group_0"], "type": "circle", "id": 111, "size": 1}, {"rank": 68, "node_type": "Attacker", "groups": ["sybil", "group_4"], "type": "circle", "id": 9, "size": 1}, {"rank": 60, "node_type": "Seed", "groups": ["group_0"], "type": "circle", "id": 18, "size": 1}, {"rank": 57, "node_type": "Attacker", "groups": ["sybil", "group_4"], "type": "circle", "id": 10, "size": 1}, {"rank": 37, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 67, "size": 1}, {"rank": 96, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 88, "size": 1}, {"rank": 75, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 68, "size": 1}, {"rank": 61, "node_type": "Honest", "groups": ["group_2", "group_0"], "type": "circle", "id": 69, "size": 1}, {"rank": 37, "node_type": "Honest", "groups": ["group_3"], "type": "circle", "id": 70, "size": 1}, {"rank": 91, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 93, "size": 1}, {"rank": 80, "node_type": "Seed", "groups": ["group_4"], "type": "circle", "id": 19, "size": 1}, {"rank": 96, "node_type": "Honest", "groups": ["group_1"], "type": "circle", "id": 71, "size": 1}, {"rank": 61, "node_type": "Honest", "groups": ["group_3", "group_0"], "type": "circle", "id": 56, "size": 1}, {"rank": 84, "node_type": "Seed", "groups": ["group_1"], "type": "circle", "id": 16, "size": 1}, {"rank": 70, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 73, "size": 1}, {"rank": 74, "node_type": "Honest", "groups": ["group_4"], "type": "circle", "id": 92, "size": 1}, {"rank": 68, "node_type": "Honest", "groups": ["group_2"], "type": "circle", "id": 74, "size": 1}, {"rank": 66, "node_type": "Honest", "groups": ["group_0"], "type": "circle", "id": 75, "size": 1}], "links": [{"source": 0, "target": 4}, {"source": 0, "target": 46}, {"source": 0, "target": 7}, {"source": 0, "target": 51}, {"source": 0, "target": 6}, {"source": 0, "target": 90}, {"source": 0, "target": 54}, {"source": 0, "target": 10}, {"source": 0, "target": 78}, {"source": 0, "target": 80}, {"source": 0, "target": 97}, {"source": 0, "target": 12}, {"source": 0, "target": 3}, {"source": 0, "target": 104}, {"source": 0, "target": 20}, {"source": 0, "target": 73}, {"source": 0, "target": 22}, {"source": 0, "target": 110}, {"source": 0, "target": 64}, {"source": 0, "target": 25}, {"source": 0, "target": 163}, {"source": 0, "target": 114}, {"source": 0, "target": 87}, {"source": 0, "target": 159}, {"source": 0, "target": 9}, {"source": 0, "target": 21}, {"source": 0, "target": 161}, {"source": 0, "target": 27}, {"source": 0, "target": 162}, {"source": 0, "target": 116}, {"source": 0, "target": 39}, {"source": 0, "target": 72}, {"source": 0, "target": 42}, {"source": 1, "target": 140}, {"source": 1, "target": 89}, {"source": 1, "target": 74}, {"source": 1, "target": 10}, {"source": 1, "target": 35}, {"source": 1, "target": 47}, {"source": 1, "target": 56}, {"source": 1, "target": 5}, {"source": 1, "target": 169}, {"source": 1, "target": 134}, {"source": 1, "target": 88}, {"source": 1, "target": 119}, {"source": 1, "target": 157}, {"source": 1, "target": 65}, {"source": 1, "target": 29}, {"source": 1, "target": 38}, {"source": 1, "target": 8}, {"source": 1, "target": 164}, {"source": 1, "target": 70}, {"source": 1, "target": 139}, {"source": 2, "target": 12}, {"source": 2, "target": 116}, {"source": 2, "target": 58}, {"source": 2, "target": 165}, {"source": 2, "target": 80}, {"source": 2, "target": 4}, {"source": 2, "target": 25}, {"source": 2, "target": 167}, {"source": 2, "target": 114}, {"source": 2, "target": 163}, {"source": 2, "target": 9}, {"source": 2, "target": 73}, {"source": 2, "target": 91}, {"source": 2, "target": 54}, {"source": 2, "target": 10}, {"source": 3, "target": 27}, {"source": 3, "target": 52}, {"source": 3, "target": 24}, {"source": 3, "target": 37}, {"source": 3, "target": 34}, {"source": 3, "target": 135}, {"source": 3, "target": 170}, {"source": 3, "target": 53}, {"source": 3, "target": 72}, {"source": 3, "target": 42}, {"source": 3, "target": 41}, {"source": 3, "target": 22}, {"source": 4, "target": 150}, {"source": 4, "target": 46}, {"source": 4, "target": 64}, {"source": 4, "target": 81}, {"source": 4, "target": 167}, {"source": 4, "target": 163}, {"source": 4, "target": 6}, {"source": 4, "target": 90}, {"source": 4, "target": 87}, {"source": 4, "target": 9}, {"source": 4, "target": 159}, {"source": 4, "target": 54}, {"source": 4, "target": 21}, {"source": 5, "target": 89}, {"source": 5, "target": 10}, {"source": 5, "target": 19}, {"source": 5, "target": 7}, {"source": 5, "target": 28}, {"source": 5, "target": 88}, {"source": 5, "target": 44}, {"source": 5, "target": 128}, {"source": 5, "target": 136}, {"source": 5, "target": 137}, {"source": 5, "target": 8}, {"source": 5, "target": 31}, {"source": 5, "target": 139}, {"source": 5, "target": 143}, {"source": 5, "target": 154}, {"source": 5, "target": 13}, {"source": 5, "target": 14}, {"source": 5, "target": 15}, {"source": 5, "target": 16}, {"source": 5, "target": 70}, {"source": 5, "target": 134}, {"source": 5, "target": 146}, {"source": 5, "target": 159}, {"source": 5, "target": 91}, {"source": 5, "target": 40}, {"source": 5, "target": 43}, {"source": 5, "target": 74}, {"source": 5, "target": 151}, {"source": 5, "target": 140}, {"source": 5, "target": 169}, {"source": 5, "target": 157}, {"source": 5, "target": 29}, {"source": 5, "target": 160}, {"source": 5, "target": 123}, {"source": 5, "target": 98}, {"source": 5, "target": 47}, {"source": 5, "target": 35}, {"source": 5, "target": 126}, {"source": 5, "target": 36}, {"source": 5, "target": 38}, {"source": 5, "target": 59}, {"source": 5, "target": 119}, {"source": 5, "target": 65}, {"source": 5, "target": 56}, {"source": 5, "target": 125}, {"source": 5, "target": 171}, {"source": 5, "target": 77}, {"source": 6, "target": 66}, {"source": 6, "target": 110}, {"source": 6, "target": 10}, {"source": 6, "target": 58}, {"source": 6, "target": 46}, {"source": 6, "target": 64}, {"source": 6, "target": 25}, {"source": 6, "target": 12}, {"source": 6, "target": 163}, {"source": 6, "target": 62}, {"source": 6, "target": 75}, {"source": 6, "target": 90}, {"source": 6, "target": 55}, {"source": 6, "target": 9}, {"source": 6, "target": 54}, {"source": 6, "target": 21}, {"source": 7, "target": 89}, {"source": 7, "target": 82}, {"source": 7, "target": 107}, {"source": 7, "target": 28}, {"source": 7, "target": 88}, {"source": 7, "target": 135}, {"source": 7, "target": 53}, {"source": 7, "target": 139}, {"source": 7, "target": 10}, {"source": 7, "target": 13}, {"source": 7, "target": 45}, {"source": 7, "target": 168}, {"source": 7, "target": 120}, {"source": 7, "target": 123}, {"source": 7, "target": 87}, {"source": 7, "target": 31}, {"source": 7, "target": 27}, {"source": 7, "target": 42}, {"source": 7, "target": 126}, {"source": 7, "target": 119}, {"source": 7, "target": 65}, {"source": 7, "target": 170}, {"source": 7, "target": 41}, {"source": 7, "target": 164}, {"source": 8, "target": 11}, {"source": 8, "target": 140}, {"source": 8, "target": 44}, {"source": 8, "target": 10}, {"source": 8, "target": 151}, {"source": 8, "target": 26}, {"source": 8, "target": 35}, {"source": 8, "target": 47}, {"source": 8, "target": 38}, {"source": 8, "target": 134}, {"source": 8, "target": 59}, {"source": 8, "target": 89}, {"source": 8, "target": 65}, {"source": 8, "target": 29}, {"source": 8, "target": 98}, {"source": 8, "target": 139}, {"source": 9, "target": 154}, {"source": 9, "target": 58}, {"source": 9, "target": 39}, {"source": 9, "target": 64}, {"source": 9, "target": 150}, {"source": 9, "target": 85}, {"source": 9, "target": 81}, {"source": 9, "target": 163}, {"source": 9, "target": 62}, {"source": 9, "target": 75}, {"source": 9, "target": 87}, {"source": 9, "target": 159}, {"source": 9, "target": 54}, {"source": 9, "target": 21}, {"source": 10, "target": 89}, {"source": 10, "target": 46}, {"source": 10, "target": 90}, {"source": 10, "target": 114}, {"source": 10, "target": 44}, {"source": 10, "target": 54}, {"source": 10, "target": 66}, {"source": 10, "target": 56}, {"source": 10, "target": 13}, {"source": 10, "target": 14}, {"source": 10, "target": 65}, {"source": 10, "target": 70}, {"source": 10, "target": 134}, {"source": 10, "target": 168}, {"source": 10, "target": 62}, {"source": 10, "target": 139}, {"source": 10, "target": 104}, {"source": 10, "target": 30}, {"source": 10, "target": 38}, {"source": 10, "target": 125}, {"source": 10, "target": 11}, {"source": 10, "target": 81}, {"source": 10, "target": 74}, {"source": 10, "target": 151}, {"source": 10, "target": 169}, {"source": 10, "target": 155}, {"source": 10, "target": 163}, {"source": 10, "target": 157}, {"source": 10, "target": 28}, {"source": 10, "target": 29}, {"source": 10, "target": 55}, {"source": 10, "target": 87}, {"source": 10, "target": 123}, {"source": 10, "target": 98}, {"source": 10, "target": 116}, {"source": 10, "target": 35}, {"source": 10, "target": 165}, {"source": 10, "target": 47}, {"source": 10, "target": 88}, {"source": 10, "target": 91}, {"source": 10, "target": 119}, {"source": 10, "target": 43}, {"source": 10, "target": 164}, {"source": 10, "target": 126}, {"source": 10, "target": 77}, {"source": 11, "target": 56}, {"source": 11, "target": 89}, {"source": 11, "target": 14}, {"source": 11, "target": 151}, {"source": 11, "target": 126}, {"source": 11, "target": 47}, {"source": 11, "target": 169}, {"source": 11, "target": 28}, {"source": 11, "target": 77}, {"source": 11, "target": 88}, {"source": 11, "target": 168}, {"source": 11, "target": 65}, {"source": 11, "target": 29}, {"source": 11, "target": 31}, {"source": 11, "target": 164}, {"source": 11, "target": 98}, {"source": 11, "target": 43}, {"source": 11, "target": 125}, {"source": 12, "target": 114}, {"source": 12, "target": 90}, {"source": 12, "target": 54}, {"source": 12, "target": 93}, {"source": 12, "target": 80}, {"source": 12, "target": 16}, {"source": 12, "target": 62}, {"source": 12, "target": 104}, {"source": 12, "target": 55}, {"source": 12, "target": 64}, {"source": 12, "target": 25}, {"source": 12, "target": 163}, {"source": 12, "target": 111}, {"source": 12, "target": 87}, {"source": 12, "target": 112}, {"source": 12, "target": 115}, {"source": 12, "target": 165}, {"source": 12, "target": 122}, {"source": 12, "target": 124}, {"source": 13, "target": 140}, {"source": 13, "target": 89}, {"source": 13, "target": 31}, {"source": 13, "target": 14}, {"source": 13, "target": 151}, {"source": 13, "target": 47}, {"source": 13, "target": 169}, {"source": 13, "target": 155}, {"source": 13, "target": 28}, {"source": 13, "target": 168}, {"source": 13, "target": 157}, {"source": 13, "target": 65}, {"source": 13, "target": 29}, {"source": 13, "target": 70}, {"source": 13, "target": 98}, {"source": 13, "target": 77}, {"source": 13, "target": 40}, {"source": 14, "target": 44}, {"source": 14, "target": 98}, {"source": 14, "target": 35}, {"source": 14, "target": 47}, {"source": 14, "target": 169}, {"source": 14, "target": 28}, {"source": 14, "target": 38}, {"source": 14, "target": 134}, {"source": 14, "target": 88}, {"source": 14, "target": 89}, {"source": 14, "target": 65}, {"source": 14, "target": 31}, {"source": 14, "target": 73}, {"source": 14, "target": 164}, {"source": 14, "target": 91}, {"source": 14, "target": 125}, {"source": 15, "target": 154}, {"source": 15, "target": 141}, {"source": 15, "target": 19}, {"source": 15, "target": 166}, {"source": 15, "target": 36}, {"source": 15, "target": 16}, {"source": 15, "target": 76}, {"source": 15, "target": 59}, {"source": 15, "target": 146}, {"source": 15, "target": 40}, {"source": 15, "target": 129}, {"source": 15, "target": 136}, {"source": 15, "target": 171}, {"source": 15, "target": 32}, {"source": 16, "target": 96}, {"source": 16, "target": 19}, {"source": 16, "target": 49}, {"source": 16, "target": 128}, {"source": 16, "target": 137}, {"source": 16, "target": 136}, {"source": 16, "target": 57}, {"source": 16, "target": 154}, {"source": 16, "target": 166}, {"source": 16, "target": 134}, {"source": 16, "target": 146}, {"source": 16, "target": 18}, {"source": 16, "target": 149}, {"source": 16, "target": 161}, {"source": 16, "target": 152}, {"source": 16, "target": 156}, {"source": 16, "target": 160}, {"source": 16, "target": 32}, {"source": 16, "target": 105}, {"source": 16, "target": 27}, {"source": 16, "target": 141}, {"source": 16, "target": 76}, {"source": 16, "target": 59}, {"source": 16, "target": 145}, {"source": 16, "target": 40}, {"source": 16, "target": 129}, {"source": 16, "target": 171}, {"source": 17, "target": 57}, {"source": 17, "target": 61}, {"source": 17, "target": 34}, {"source": 17, "target": 69}, {"source": 17, "target": 105}, {"source": 17, "target": 144}, {"source": 17, "target": 33}, {"source": 17, "target": 60}, {"source": 17, "target": 138}, {"source": 17, "target": 51}, {"source": 17, "target": 114}, {"source": 17, "target": 153}, {"source": 17, "target": 75}, {"source": 17, "target": 158}, {"source": 17, "target": 148}, {"source": 17, "target": 41}, {"source": 17, "target": 71}, {"source": 18, "target": 161}, {"source": 18, "target": 154}, {"source": 18, "target": 44}, {"source": 18, "target": 141}, {"source": 18, "target": 96}, {"source": 18, "target": 19}, {"source": 18, "target": 166}, {"source": 18, "target": 36}, {"source": 18, "target": 143}, {"source": 18, "target": 59}, {"source": 18, "target": 145}, {"source": 18, "target": 129}, {"source": 18, "target": 149}, {"source": 19, "target": 154}, {"source": 19, "target": 27}, {"source": 19, "target": 129}, {"source": 19, "target": 96}, {"source": 19, "target": 36}, {"source": 19, "target": 59}, {"source": 19, "target": 145}, {"source": 19, "target": 146}, {"source": 19, "target": 40}, {"source": 19, "target": 156}, {"source": 19, "target": 137}, {"source": 19, "target": 171}, {"source": 19, "target": 91}, {"source": 19, "target": 128}, {"source": 20, "target": 161}, {"source": 20, "target": 27}, {"source": 20, "target": 52}, {"source": 20, "target": 45}, {"source": 20, "target": 117}, {"source": 20, "target": 118}, {"source": 20, "target": 107}, {"source": 20, "target": 86}, {"source": 20, "target": 108}, {"source": 20, "target": 51}, {"source": 20, "target": 109}, {"source": 20, "target": 37}, {"source": 20, "target": 122}, {"source": 20, "target": 100}, {"source": 20, "target": 48}, {"source": 21, "target": 66}, {"source": 21, "target": 150}, {"source": 21, "target": 80}, {"source": 21, "target": 116}, {"source": 21, "target": 39}, {"source": 21, "target": 64}, {"source": 21, "target": 25}, {"source": 21, "target": 167}, {"source": 21, "target": 114}, {"source": 21, "target": 163}, {"source": 21, "target": 62}, {"source": 21, "target": 77}, {"source": 21, "target": 90}, {"source": 21, "target": 87}, {"source": 21, "target": 54}, {"source": 22, "target": 161}, {"source": 22, "target": 27}, {"source": 22, "target": 45}, {"source": 22, "target": 24}, {"source": 22, "target": 107}, {"source": 22, "target": 87}, {"source": 22, "target": 146}, {"source": 22, "target": 72}, {"source": 23, "target": 67}, {"source": 23, "target": 120}, {"source": 23, "target": 83}, {"source": 23, "target": 33}, {"source": 23, "target": 60}, {"source": 23, "target": 85}, {"source": 23, "target": 71}, {"source": 23, "target": 51}, {"source": 23, "target": 26}, {"source": 23, "target": 68}, {"source": 23, "target": 79}, {"source": 23, "target": 75}, {"source": 23, "target": 138}, {"source": 23, "target": 41}, {"source": 23, "target": 57}, {"source": 24, "target": 27}, {"source": 24, "target": 52}, {"source": 24, "target": 45}, {"source": 24, "target": 80}, {"source": 24, "target": 107}, {"source": 24, "target": 37}, {"source": 24, "target": 170}, {"source": 24, "target": 146}, {"source": 24, "target": 41}, {"source": 24, "target": 147}, {"source": 25, "target": 110}, {"source": 25, "target": 154}, {"source": 25, "target": 39}, {"source": 25, "target": 165}, {"source": 25, "target": 150}, {"source": 25, "target": 85}, {"source": 25, "target": 167}, {"source": 25, "target": 163}, {"source": 25, "target": 62}, {"source": 25, "target": 104}, {"source": 25, "target": 90}, {"source": 25, "target": 159}, {"source": 25, "target": 91}, {"source": 25, "target": 54}, {"source": 26, "target": 50}, {"source": 26, "target": 67}, {"source": 26, "target": 69}, {"source": 26, "target": 83}, {"source": 26, "target": 60}, {"source": 26, "target": 71}, {"source": 26, "target": 51}, {"source": 26, "target": 79}, {"source": 26, "target": 75}, {"source": 26, "target": 138}, {"source": 26, "target": 120}, {"source": 26, "target": 41}, {"source": 26, "target": 57}, {"source": 27, "target": 82}, {"source": 27, "target": 146}, {"source": 27, "target": 107}, {"source": 27, "target": 51}, {"source": 27, "target": 37}, {"source": 27, "target": 135}, {"source": 27, "target": 53}, {"source": 27, "target": 147}, {"source": 27, "target": 154}, {"source": 27, "target": 45}, {"source": 27, "target": 78}, {"source": 27, "target": 97}, {"source": 27, "target": 149}, {"source": 27, "target": 49}, {"source": 27, "target": 152}, {"source": 27, "target": 156}, {"source": 27, "target": 87}, {"source": 27, "target": 72}, {"source": 27, "target": 161}, {"source": 27, "target": 52}, {"source": 27, "target": 171}, {"source": 27, "target": 76}, {"source": 27, "target": 59}, {"source": 27, "target": 145}, {"source": 27, "target": 170}, {"source": 27, "target": 41}, {"source": 27, "target": 42}, {"source": 28, "target": 89}, {"source": 28, "target": 88}, {"source": 28, "target": 43}, {"source": 28, "target": 140}, {"source": 28, "target": 151}, {"source": 28, "target": 134}, {"source": 28, "target": 91}, {"source": 28, "target": 123}, {"source": 28, "target": 157}, {"source": 28, "target": 70}, {"source": 28, "target": 126}, {"source": 28, "target": 38}, {"source": 28, "target": 119}, {"source": 28, "target": 65}, {"source": 28, "target": 164}, {"source": 28, "target": 77}, {"source": 29, "target": 44}, {"source": 29, "target": 74}, {"source": 29, "target": 46}, {"source": 29, "target": 47}, {"source": 29, "target": 70}, {"source": 29, "target": 134}, {"source": 29, "target": 77}, {"source": 29, "target": 89}, {"source": 29, "target": 65}, {"source": 29, "target": 30}, {"source": 29, "target": 129}, {"source": 29, "target": 38}, {"source": 29, "target": 43}, {"source": 30, "target": 116}, {"source": 30, "target": 46}, {"source": 30, "target": 39}, {"source": 30, "target": 165}, {"source": 30, "target": 64}, {"source": 30, "target": 84}, {"source": 30, "target": 85}, {"source": 30, "target": 167}, {"source": 30, "target": 114}, {"source": 30, "target": 163}, {"source": 30, "target": 90}, {"source": 30, "target": 87}, {"source": 30, "target": 55}, {"source": 30, "target": 159}, {"source": 30, "target": 91}, {"source": 30, "target": 54}, {"source": 31, "target": 89}, {"source": 31, "target": 88}, {"source": 31, "target": 44}, {"source": 31, "target": 140}, {"source": 31, "target": 134}, {"source": 31, "target": 77}, {"source": 31, "target": 38}, {"source": 31, "target": 125}, {"source": 31, "target": 74}, {"source": 31, "target": 169}, {"source": 31, "target": 123}, {"source": 31, "target": 157}, {"source": 31, "target": 70}, {"source": 31, "target": 126}, {"source": 31, "target": 91}, {"source": 31, "target": 65}, {"source": 31, "target": 56}, {"source": 31, "target": 43}, {"source": 32, "target": 105}, {"source": 32, "target": 154}, {"source": 32, "target": 166}, {"source": 32, "target": 141}, {"source": 32, "target": 152}, {"source": 32, "target": 49}, {"source": 32, "target": 76}, {"source": 32, "target": 143}, {"source": 32, "target": 59}, {"source": 32, "target": 146}, {"source": 32, "target": 149}, {"source": 32, "target": 57}, {"source": 32, "target": 160}, {"source": 33, "target": 105}, {"source": 33, "target": 81}, {"source": 33, "target": 34}, {"source": 33, "target": 63}, {"source": 33, "target": 142}, {"source": 33, "target": 51}, {"source": 33, "target": 158}, {"source": 33, "target": 75}, {"source": 33, "target": 41}, {"source": 33, "target": 57}, {"source": 34, "target": 44}, {"source": 34, "target": 69}, {"source": 34, "target": 60}, {"source": 34, "target": 47}, {"source": 34, "target": 71}, {"source": 34, "target": 51}, {"source": 34, "target": 63}, {"source": 34, "target": 75}, {"source": 34, "target": 158}, {"source": 34, "target": 148}, {"source": 34, "target": 41}, {"source": 34, "target": 57}, {"source": 35, "target": 89}, {"source": 35, "target": 74}, {"source": 35, "target": 126}, {"source": 35, "target": 47}, {"source": 35, "target": 169}, {"source": 35, "target": 91}, {"source": 35, "target": 155}, {"source": 35, "target": 139}, {"source": 35, "target": 119}, {"source": 35, "target": 65}, {"source": 35, "target": 70}, {"source": 35, "target": 98}, {"source": 35, "target": 77}, {"source": 35, "target": 125}, {"source": 36, "target": 149}, {"source": 36, "target": 96}, {"source": 36, "target": 128}, {"source": 36, "target": 137}, {"source": 36, "target": 136}, {"source": 36, "target": 154}, {"source": 36, "target": 141}, {"source": 36, "target": 134}, {"source": 36, "target": 146}, {"source": 36, "target": 91}, {"source": 36, "target": 152}, {"source": 36, "target": 160}, {"source": 36, "target": 166}, {"source": 36, "target": 76}, {"source": 36, "target": 59}, {"source": 36, "target": 145}, {"source": 36, "target": 40}, {"source": 36, "target": 171}, {"source": 37, "target": 161}, {"source": 37, "target": 82}, {"source": 37, "target": 52}, {"source": 37, "target": 78}, {"source": 37, "target": 58}, {"source": 37, "target": 107}, {"source": 37, "target": 51}, {"source": 37, "target": 87}, {"source": 37, "target": 135}, {"source": 37, "target": 170}, {"source": 37, "target": 53}, {"source": 37, "target": 72}, {"source": 37, "target": 42}, {"source": 37, "target": 41}, {"source": 37, "target": 147}, {"source": 38, "target": 155}, {"source": 38, "target": 93}, {"source": 38, "target": 101}, {"source": 38, "target": 118}, {"source": 38, "target": 126}, {"source": 38, "target": 47}, {"source": 38, "target": 98}, {"source": 38, "target": 134}, {"source": 38, "target": 168}, {"source": 38, "target": 65}, {"source": 38, "target": 70}, {"source": 38, "target": 139}, {"source": 38, "target": 125}, {"source": 39, "target": 150}, {"source": 39, "target": 64}, {"source": 39, "target": 46}, {"source": 39, "target": 167}, {"source": 39, "target": 81}, {"source": 39, "target": 163}, {"source": 39, "target": 62}, {"source": 39, "target": 90}, {"source": 39, "target": 54}, {"source": 40, "target": 136}, {"source": 40, "target": 166}, {"source": 40, "target": 96}, {"source": 40, "target": 152}, {"source": 40, "target": 49}, {"source": 40, "target": 160}, {"source": 40, "target": 134}, {"source": 40, "target": 105}, {"source": 40, "target": 146}, {"source": 40, "target": 156}, {"source": 40, "target": 137}, {"source": 40, "target": 57}, {"source": 40, "target": 83}, {"source": 40, "target": 149}, {"source": 41, "target": 107}, {"source": 41, "target": 51}, {"source": 41, "target": 75}, {"source": 41, "target": 53}, {"source": 41, "target": 57}, {"source": 41, "target": 166}, {"source": 41, "target": 78}, {"source": 41, "target": 60}, {"source": 41, "target": 67}, {"source": 41, "target": 158}, {"source": 41, "target": 138}, {"source": 41, "target": 42}, {"source": 41, "target": 135}, {"source": 42, "target": 161}, {"source": 42, "target": 52}, {"source": 42, "target": 107}, {"source": 42, "target": 51}, {"source": 42, "target": 53}, {"source": 42, "target": 171}, {"source": 43, "target": 140}, {"source": 43, "target": 44}, {"source": 43, "target": 74}, {"source": 43, "target": 47}, {"source": 43, "target": 155}, {"source": 43, "target": 88}, {"source": 43, "target": 119}, {"source": 43, "target": 157}, {"source": 43, "target": 65}, {"source": 43, "target": 91}, {"source": 44, "target": 89}, {"source": 44, "target": 139}, {"source": 44, "target": 126}, {"source": 44, "target": 47}, {"source": 44, "target": 88}, {"source": 44, "target": 168}, {"source": 44, "target": 65}, {"source": 44, "target": 57}, {"source": 44, "target": 164}, {"source": 44, "target": 70}, {"source": 44, "target": 125}, {"source": 45, "target": 161}, {"source": 45, "target": 78}, {"source": 45, "target": 107}, {"source": 45, "target": 97}, {"source": 45, "target": 53}, {"source": 46, "target": 114}, {"source": 46, "target": 90}, {"source": 46, "target": 54}, {"source": 46, "target": 66}, {"source": 46, "target": 84}, {"source": 46, "target": 62}, {"source": 46, "target": 159}, {"source": 46, "target": 91}, {"source": 46, "target": 81}, {"source": 46, "target": 58}, {"source": 46, "target": 64}, {"source": 46, "target": 163}, {"source": 46, "target": 87}, {"source": 46, "target": 110}, {"source": 46, "target": 73}, {"source": 46, "target": 165}, {"source": 47, "target": 88}, {"source": 47, "target": 89}, {"source": 47, "target": 139}, {"source": 47, "target": 140}, {"source": 47, "target": 70}, {"source": 47, "target": 134}, {"source": 47, "target": 125}, {"source": 47, "target": 74}, {"source": 47, "target": 151}, {"source": 47, "target": 169}, {"source": 47, "target": 155}, {"source": 47, "target": 157}, {"source": 47, "target": 123}, {"source": 47, "target": 98}, {"source": 47, "target": 116}, {"source": 47, "target": 126}, {"source": 47, "target": 91}, {"source": 47, "target": 119}, {"source": 47, "target": 65}, {"source": 47, "target": 56}, {"source": 47, "target": 164}, {"source": 47, "target": 77}, {"source": 48, "target": 98}, {"source": 49, "target": 154}, {"source": 49, "target": 166}, {"source": 49, "target": 152}, {"source": 49, "target": 59}, {"source": 49, "target": 146}, {"source": 49, "target": 129}, {"source": 49, "target": 55}, {"source": 49, "target": 171}, {"source": 50, "target": 51}, {"source": 50, "target": 57}, {"source": 50, "target": 166}, {"source": 50, "target": 106}, {"source": 50, "target": 83}, {"source": 50, "target": 60}, {"source": 50, "target": 71}, {"source": 50, "target": 61}, {"source": 50, "target": 68}, {"source": 50, "target": 153}, {"source": 50, "target": 75}, {"source": 50, "target": 95}, {"source": 50, "target": 158}, {"source": 50, "target": 79}, {"source": 50, "target": 138}, {"source": 51, "target": 142}, {"source": 51, "target": 82}, {"source": 51, "target": 83}, {"source": 51, "target": 107}, {"source": 51, "target": 75}, {"source": 51, "target": 53}, {"source": 51, "target": 57}, {"source": 51, "target": 69}, {"source": 51, "target": 166}, {"source": 51, "target": 78}, {"source": 51, "target": 60}, {"source": 51, "target": 61}, {"source": 51, "target": 68}, {"source": 51, "target": 148}, {"source": 51, "target": 120}, {"source": 51, "target": 161}, {"source": 51, "target": 144}, {"source": 51, "target": 67}, {"source": 51, "target": 71}, {"source": 51, "target": 153}, {"source": 51, "target": 158}, {"source": 51, "target": 105}, {"source": 51, "target": 162}, {"source": 51, "target": 165}, {"source": 51, "target": 138}, {"source": 51, "target": 63}, {"source": 51, "target": 170}, {"source": 51, "target": 79}, {"source": 52, "target": 82}, {"source": 52, "target": 78}, {"source": 52, "target": 107}, {"source": 52, "target": 97}, {"source": 52, "target": 135}, {"source": 52, "target": 170}, {"source": 52, "target": 147}, {"source": 53, "target": 161}, {"source": 53, "target": 78}, {"source": 53, "target": 87}, {"source": 53, "target": 170}, {"source": 54, "target": 80}, {"source": 54, "target": 81}, {"source": 54, "target": 85}, {"source": 54, "target": 114}, {"source": 54, "target": 90}, {"source": 54, "target": 66}, {"source": 54, "target": 154}, {"source": 54, "target": 84}, {"source": 54, "target": 62}, {"source": 54, "target": 104}, {"source": 54, "target": 73}, {"source": 54, "target": 91}, {"source": 54, "target": 150}, {"source": 54, "target": 58}, {"source": 54, "target": 64}, {"source": 54, "target": 163}, {"source": 54, "target": 55}, {"source": 54, "target": 87}, {"source": 54, "target": 110}, {"source": 54, "target": 159}, {"source": 54, "target": 116}, {"source": 54, "target": 165}, {"source": 54, "target": 167}, {"source": 55, "target": 110}, {"source": 55, "target": 154}, {"source": 55, "target": 80}, {"source": 55, "target": 116}, {"source": 55, "target": 58}, {"source": 55, "target": 64}, {"source": 55, "target": 81}, {"source": 55, "target": 85}, {"source": 55, "target": 167}, {"source": 55, "target": 163}, {"source": 55, "target": 62}, {"source": 55, "target": 169}, {"source": 55, "target": 90}, {"source": 55, "target": 87}, {"source": 55, "target": 73}, {"source": 56, "target": 169}, {"source": 56, "target": 70}, {"source": 56, "target": 134}, {"source": 56, "target": 88}, {"source": 56, "target": 119}, {"source": 56, "target": 65}, {"source": 56, "target": 123}, {"source": 56, "target": 98}, {"source": 56, "target": 77}, {"source": 56, "target": 125}, {"source": 57, "target": 142}, {"source": 57, "target": 83}, {"source": 57, "target": 75}, {"source": 57, "target": 137}, {"source": 57, "target": 134}, {"source": 57, "target": 154}, {"source": 57, "target": 69}, {"source": 57, "target": 166}, {"source": 57, "target": 60}, {"source": 57, "target": 59}, {"source": 57, "target": 61}, {"source": 57, "target": 68}, {"source": 57, "target": 146}, {"source": 57, "target": 148}, {"source": 57, "target": 149}, {"source": 57, "target": 120}, {"source": 57, "target": 144}, {"source": 57, "target": 67}, {"source": 57, "target": 71}, {"source": 57, "target": 79}, {"source": 57, "target": 158}, {"source": 57, "target": 160}, {"source": 57, "target": 105}, {"source": 57, "target": 162}, {"source": 57, "target": 138}, {"source": 57, "target": 63}, {"source": 57, "target": 153}, {"source": 58, "target": 101}, {"source": 58, "target": 154}, {"source": 58, "target": 92}, {"source": 58, "target": 94}, {"source": 58, "target": 70}, {"source": 58, "target": 84}, {"source": 58, "target": 167}, {"source": 58, "target": 133}, {"source": 58, "target": 163}, {"source": 58, "target": 62}, {"source": 58, "target": 104}, {"source": 58, "target": 159}, {"source": 58, "target": 91}, {"source": 59, "target": 96}, {"source": 59, "target": 128}, {"source": 59, "target": 136}, {"source": 59, "target": 137}, {"source": 59, "target": 154}, {"source": 59, "target": 141}, {"source": 59, "target": 134}, {"source": 59, "target": 146}, {"source": 59, "target": 149}, {"source": 59, "target": 156}, {"source": 59, "target": 105}, {"source": 59, "target": 166}, {"source": 59, "target": 76}, {"source": 59, "target": 145}, {"source": 59, "target": 129}, {"source": 59, "target": 171}, {"source": 60, "target": 83}, {"source": 60, "target": 75}, {"source": 60, "target": 69}, {"source": 60, "target": 166}, {"source": 60, "target": 142}, {"source": 60, "target": 68}, {"source": 60, "target": 61}, {"source": 60, "target": 120}, {"source": 60, "target": 144}, {"source": 60, "target": 67}, {"source": 60, "target": 71}, {"source": 60, "target": 153}, {"source": 60, "target": 158}, {"source": 60, "target": 105}, {"source": 60, "target": 162}, {"source": 60, "target": 135}, {"source": 60, "target": 138}, {"source": 60, "target": 79}, {"source": 60, "target": 128}, {"source": 61, "target": 142}, {"source": 61, "target": 162}, {"source": 61, "target": 166}, {"source": 61, "target": 68}, {"source": 61, "target": 71}, {"source": 61, "target": 79}, {"source": 61, "target": 75}, {"source": 61, "target": 148}, {"source": 62, "target": 154}, {"source": 62, "target": 64}, {"source": 62, "target": 84}, {"source": 62, "target": 114}, {"source": 62, "target": 163}, {"source": 62, "target": 104}, {"source": 63, "target": 83}, {"source": 63, "target": 67}, {"source": 63, "target": 138}, {"source": 63, "target": 79}, {"source": 63, "target": 75}, {"source": 63, "target": 71}, {"source": 63, "target": 148}, {"source": 63, "target": 77}, {"source": 64, "target": 80}, {"source": 64, "target": 150}, {"source": 64, "target": 85}, {"source": 64, "target": 90}, {"source": 64, "target": 66}, {"source": 64, "target": 154}, {"source": 64, "target": 73}, {"source": 64, "target": 91}, {"source": 64, "target": 81}, {"source": 64, "target": 161}, {"source": 64, "target": 163}, {"source": 64, "target": 87}, {"source": 64, "target": 110}, {"source": 64, "target": 159}, {"source": 64, "target": 116}, {"source": 64, "target": 165}, {"source": 64, "target": 167}, {"source": 65, "target": 89}, {"source": 65, "target": 88}, {"source": 65, "target": 139}, {"source": 65, "target": 98}, {"source": 65, "target": 134}, {"source": 65, "target": 91}, {"source": 65, "target": 125}, {"source": 65, "target": 74}, {"source": 65, "target": 151}, {"source": 65, "target": 140}, {"source": 65, "target": 155}, {"source": 65, "target": 157}, {"source": 65, "target": 70}, {"source": 65, "target": 126}, {"source": 65, "target": 77}, {"source": 65, "target": 164}, {"source": 66, "target": 116}, {"source": 66, "target": 84}, {"source": 66, "target": 163}, {"source": 66, "target": 90}, {"source": 67, "target": 105}, {"source": 67, "target": 69}, {"source": 67, "target": 94}, {"source": 67, "target": 144}, {"source": 67, "target": 83}, {"source": 67, "target": 102}, {"source": 67, "target": 121}, {"source": 67, "target": 158}, {"source": 67, "target": 75}, {"source": 67, "target": 148}, {"source": 67, "target": 120}, {"source": 68, "target": 120}, {"source": 68, "target": 83}, {"source": 68, "target": 150}, {"source": 68, "target": 138}, {"source": 68, "target": 153}, {"source": 68, "target": 75}, {"source": 68, "target": 158}, {"source": 68, "target": 148}, {"source": 69, "target": 105}, {"source": 69, "target": 120}, {"source": 69, "target": 166}, {"source": 69, "target": 144}, {"source": 69, "target": 83}, {"source": 69, "target": 138}, {"source": 69, "target": 79}, {"source": 69, "target": 75}, {"source": 69, "target": 153}, {"source": 70, "target": 74}, {"source": 70, "target": 88}, {"source": 70, "target": 98}, {"source": 70, "target": 168}, {"source": 70, "target": 125}, {"source": 71, "target": 120}, {"source": 71, "target": 79}, {"source": 71, "target": 75}, {"source": 71, "target": 153}, {"source": 72, "target": 107}, {"source": 72, "target": 97}, {"source": 72, "target": 135}, {"source": 72, "target": 170}, {"source": 72, "target": 147}, {"source": 73, "target": 110}, {"source": 73, "target": 80}, {"source": 73, "target": 165}, {"source": 73, "target": 167}, {"source": 73, "target": 104}, {"source": 73, "target": 90}, {"source": 73, "target": 91}, {"source": 74, "target": 89}, {"source": 74, "target": 88}, {"source": 74, "target": 140}, {"source": 74, "target": 78}, {"source": 74, "target": 98}, {"source": 74, "target": 134}, {"source": 74, "target": 77}, {"source": 74, "target": 125}, {"source": 74, "target": 123}, {"source": 74, "target": 157}, {"source": 74, "target": 126}, {"source": 74, "target": 168}, {"source": 75, "target": 142}, {"source": 75, "target": 83}, {"source": 75, "target": 166}, {"source": 75, "target": 148}, {"source": 75, "target": 120}, {"source": 75, "target": 144}, {"source": 75, "target": 153}, {"source": 75, "target": 158}, {"source": 75, "target": 105}, {"source": 75, "target": 162}, {"source": 75, "target": 138}, {"source": 75, "target": 79}, {"source": 76, "target": 161}, {"source": 76, "target": 154}, {"source": 76, "target": 141}, {"source": 76, "target": 152}, {"source": 76, "target": 105}, {"source": 76, "target": 146}, {"source": 76, "target": 171}, {"source": 76, "target": 160}, {"source": 77, "target": 89}, {"source": 77, "target": 151}, {"source": 77, "target": 126}, {"source": 77, "target": 169}, {"source": 77, "target": 149}, {"source": 77, "target": 157}, {"source": 77, "target": 98}, {"source": 78, "target": 161}, {"source": 78, "target": 82}, {"source": 78, "target": 107}, {"source": 78, "target": 135}, {"source": 78, "target": 170}, {"source": 78, "target": 147}, {"source": 79, "target": 142}, {"source": 79, "target": 158}, {"source": 79, "target": 162}, {"source": 79, "target": 166}, {"source": 79, "target": 153}, {"source": 80, "target": 114}, {"source": 80, "target": 154}, {"source": 80, "target": 165}, {"source": 80, "target": 81}, {"source": 80, "target": 167}, {"source": 80, "target": 163}, {"source": 80, "target": 150}, {"source": 80, "target": 104}, {"source": 80, "target": 90}, {"source": 80, "target": 87}, {"source": 80, "target": 159}, {"source": 81, "target": 150}, {"source": 81, "target": 116}, {"source": 81, "target": 84}, {"source": 81, "target": 165}, {"source": 81, "target": 154}, {"source": 81, "target": 97}, {"source": 81, "target": 163}, {"source": 81, "target": 90}, {"source": 81, "target": 91}, {"source": 82, "target": 107}, {"source": 82, "target": 87}, {"source": 82, "target": 135}, {"source": 82, "target": 170}, {"source": 83, "target": 142}, {"source": 83, "target": 138}, {"source": 84, "target": 110}, {"source": 84, "target": 116}, {"source": 84, "target": 167}, {"source": 84, "target": 114}, {"source": 84, "target": 163}, {"source": 84, "target": 90}, {"source": 84, "target": 87}, {"source": 84, "target": 91}, {"source": 85, "target": 110}, {"source": 85, "target": 116}, {"source": 85, "target": 165}, {"source": 85, "target": 138}, {"source": 85, "target": 163}, {"source": 85, "target": 104}, {"source": 85, "target": 87}, {"source": 85, "target": 159}, {"source": 86, "target": 142}, {"source": 87, "target": 107}, {"source": 87, "target": 135}, {"source": 87, "target": 104}, {"source": 87, "target": 159}, {"source": 87, "target": 91}, {"source": 87, "target": 110}, {"source": 87, "target": 132}, {"source": 87, "target": 109}, {"source": 87, "target": 111}, {"source": 87, "target": 113}, {"source": 87, "target": 161}, {"source": 87, "target": 170}, {"source": 87, "target": 102}, {"source": 88, "target": 89}, {"source": 88, "target": 135}, {"source": 88, "target": 139}, {"source": 88, "target": 134}, {"source": 88, "target": 91}, {"source": 88, "target": 119}, {"source": 88, "target": 164}, {"source": 89, "target": 151}, {"source": 89, "target": 134}, {"source": 89, "target": 91}, {"source": 89, "target": 125}, {"source": 89, "target": 169}, {"source": 89, "target": 155}, {"source": 89, "target": 123}, {"source": 89, "target": 98}, {"source": 89, "target": 168}, {"source": 89, "target": 164}, {"source": 90, "target": 114}, {"source": 90, "target": 159}, {"source": 90, "target": 91}, {"source": 90, "target": 150}, {"source": 90, "target": 163}, {"source": 90, "target": 116}, {"source": 90, "target": 165}, {"source": 91, "target": 114}, {"source": 91, "target": 140}, {"source": 91, "target": 134}, {"source": 91, "target": 125}, {"source": 91, "target": 169}, {"source": 91, "target": 163}, {"source": 91, "target": 157}, {"source": 91, "target": 98}, {"source": 91, "target": 110}, {"source": 91, "target": 154}, {"source": 91, "target": 164}, {"source": 92, "target": 148}, {"source": 95, "target": 142}, {"source": 96, "target": 105}, {"source": 96, "target": 154}, {"source": 96, "target": 166}, {"source": 96, "target": 155}, {"source": 96, "target": 134}, {"source": 96, "target": 146}, {"source": 96, "target": 160}, {"source": 97, "target": 107}, {"source": 97, "target": 170}, {"source": 97, "target": 147}, {"source": 98, "target": 139}, {"source": 98, "target": 140}, {"source": 98, "target": 134}, {"source": 98, "target": 99}, {"source": 98, "target": 125}, {"source": 98, "target": 155}, {"source": 98, "target": 126}, {"source": 99, "target": 142}, {"source": 100, "target": 141}, {"source": 103, "target": 142}, {"source": 103, "target": 157}, {"source": 104, "target": 154}, {"source": 104, "target": 159}, {"source": 104, "target": 150}, {"source": 104, "target": 163}, {"source": 105, "target": 132}, {"source": 105, "target": 130}, {"source": 105, "target": 143}, {"source": 105, "target": 154}, {"source": 105, "target": 166}, {"source": 105, "target": 142}, {"source": 105, "target": 134}, {"source": 105, "target": 106}, {"source": 105, "target": 149}, {"source": 105, "target": 131}, {"source": 105, "target": 144}, {"source": 105, "target": 152}, {"source": 105, "target": 108}, {"source": 105, "target": 163}, {"source": 105, "target": 162}, {"source": 105, "target": 145}, {"source": 105, "target": 171}, {"source": 105, "target": 127}, {"source": 107, "target": 170}, {"source": 107, "target": 147}, {"source": 110, "target": 154}, {"source": 110, "target": 150}, {"source": 112, "target": 157}, {"source": 113, "target": 155}, {"source": 114, "target": 150}, {"source": 114, "target": 116}, {"source": 114, "target": 167}, {"source": 114, "target": 163}, {"source": 115, "target": 157}, {"source": 116, "target": 154}, {"source": 116, "target": 163}, {"source": 117, "target": 142}, {"source": 119, "target": 151}, {"source": 119, "target": 140}, {"source": 119, "target": 155}, {"source": 119, "target": 157}, {"source": 119, "target": 148}, {"source": 119, "target": 125}, {"source": 120, "target": 144}, {"source": 120, "target": 142}, {"source": 121, "target": 142}, {"source": 123, "target": 140}, {"source": 123, "target": 151}, {"source": 123, "target": 169}, {"source": 123, "target": 134}, {"source": 123, "target": 168}, {"source": 123, "target": 164}, {"source": 123, "target": 125}, {"source": 124, "target": 155}, {"source": 125, "target": 139}, {"source": 125, "target": 140}, {"source": 125, "target": 151}, {"source": 125, "target": 157}, {"source": 125, "target": 164}, {"source": 126, "target": 151}, {"source": 127, "target": 148}, {"source": 128, "target": 134}, {"source": 128, "target": 154}, {"source": 128, "target": 161}, {"source": 128, "target": 143}, {"source": 128, "target": 145}, {"source": 128, "target": 146}, {"source": 128, "target": 137}, {"source": 129, "target": 154}, {"source": 129, "target": 141}, {"source": 129, "target": 152}, {"source": 129, "target": 160}, {"source": 129, "target": 143}, {"source": 129, "target": 136}, {"source": 129, "target": 149}, {"source": 130, "target": 141}, {"source": 131, "target": 141}, {"source": 133, "target": 157}, {"source": 134, "target": 154}, {"source": 134, "target": 143}, {"source": 134, "target": 146}, {"source": 134, "target": 161}, {"source": 134, "target": 140}, {"source": 134, "target": 169}, {"source": 134, "target": 160}, {"source": 134, "target": 155}, {"source": 134, "target": 156}, {"source": 134, "target": 164}, {"source": 135, "target": 161}, {"source": 136, "target": 161}, {"source": 136, "target": 154}, {"source": 136, "target": 170}, {"source": 136, "target": 143}, {"source": 136, "target": 145}, {"source": 137, "target": 154}, {"source": 137, "target": 141}, {"source": 137, "target": 152}, {"source": 137, "target": 143}, {"source": 137, "target": 146}, {"source": 137, "target": 156}, {"source": 137, "target": 171}, {"source": 139, "target": 140}, {"source": 139, "target": 155}, {"source": 139, "target": 164}, {"source": 140, "target": 169}, {"source": 140, "target": 155}, {"source": 140, "target": 168}, {"source": 141, "target": 154}, {"source": 141, "target": 152}, {"source": 141, "target": 143}, {"source": 141, "target": 145}, {"source": 141, "target": 146}, {"source": 141, "target": 160}, {"source": 141, "target": 149}, {"source": 142, "target": 166}, {"source": 142, "target": 153}, {"source": 142, "target": 148}, {"source": 143, "target": 154}, {"source": 143, "target": 145}, {"source": 143, "target": 146}, {"source": 143, "target": 156}, {"source": 143, "target": 149}, {"source": 144, "target": 148}, {"source": 144, "target": 158}, {"source": 145, "target": 154}, {"source": 145, "target": 166}, {"source": 145, "target": 146}, {"source": 146, "target": 154}, {"source": 146, "target": 149}, {"source": 146, "target": 152}, {"source": 146, "target": 160}, {"source": 146, "target": 161}, {"source": 146, "target": 166}, {"source": 146, "target": 156}, {"source": 146, "target": 171}, {"source": 147, "target": 170}, {"source": 148, "target": 166}, {"source": 148, "target": 158}, {"source": 149, "target": 161}, {"source": 149, "target": 154}, {"source": 149, "target": 171}, {"source": 150, "target": 163}, {"source": 150, "target": 159}, {"source": 151, "target": 164}, {"source": 152, "target": 154}, {"source": 152, "target": 156}, {"source": 153, "target": 158}, {"source": 154, "target": 161}, {"source": 154, "target": 163}, {"source": 154, "target": 156}, {"source": 154, "target": 160}, {"source": 154, "target": 166}, {"source": 154, "target": 167}, {"source": 154, "target": 171}, {"source": 155, "target": 169}, {"source": 155, "target": 168}, {"source": 156, "target": 166}, {"source": 156, "target": 160}, {"source": 158, "target": 162}, {"source": 158, "target": 166}, {"source": 159, "target": 167}, {"source": 160, "target": 166}, {"source": 161, "target": 166}, {"source": 161, "target": 171}, {"source": 161, "target": 170}, {"source": 162, "target": 166}, {"source": 163, "target": 165}, {"source": 163, "target": 167}, {"source": 165, "target": 167}, {"source": 166, "target": 171}], "multigraph": false};

var linkedByIndex = {};
    graph.links.forEach(function(d) {
    linkedByIndex[d.source + "," + d.target] = true;
    });

    function isConnected(a, b) {
        return linkedByIndex[a.index + "," + b.index] || linkedByIndex[b.index + "," + a.index] || a.index == b.index;
    }

    function hasConnections(a) {
        for (var property in linkedByIndex) {
                s = property.split(",");
                if ((s[0] == a.index || s[1] == a.index) && linkedByIndex[property])                    return true;
        }
    return false;
    }

  force
    .nodes(graph.nodes)
    .links(graph.links)
    .start();

  var link = g.selectAll(".link")
    .data(graph.links)
    .enter().append("line")
    .attr("class", "link")
    .style("stroke-width",nominal_stroke)
    .style("stroke", function(d) {
    if (isNumber(d.score) && d.score>=0) return color(d);
    else return default_link_color; })


  var node = g.selectAll(".node")
    .data(graph.nodes)
    .enter().append("g")
    .attr("class", "node")

    .call(force.drag)


    node.on("dblclick.zoom", function(d) { d3.event.stopPropagation();
    var dcx = (window.innerWidth/2-d.x*zoom.scale());
    var dcy = (window.innerHeight/2-d.y*zoom.scale());
    zoom.translate([dcx,dcy]);
     g.attr("transform", "translate("+ dcx + "," + dcy  + ")scale(" + zoom.scale() + ")");


    });




    var tocolor = "fill";
    var towhite = "stroke";
    if (outline) {
        tocolor = "stroke"
        towhite = "fill"
    }



  var circle = node.append("path")


      .attr("d", d3.svg.symbol()
        .size(function(d) { return Math.PI*Math.pow(size(d.size)||nominal_base_node_size,2); })
        .type(function(d) { return d.type; }))

    .style(tocolor, function(d) {
    return color(d);
    })
    //.attr("r", function(d) { return size(d.size)||nominal_base_node_size; })
    .style("stroke-width", nominal_stroke)
    .style(towhite, "white");


  var text = g.selectAll(".text")
    .data(graph.nodes)
    .enter().append("text")
    .attr("dy", ".35em")
    .style("font-size", nominal_text_size + "px")

    if (text_center)
     text.text(function(d) { return d.rank; })
    .style("text-anchor", "middle");
    else
    text.attr("dx", function(d) {return (size(d.size)||nominal_base_node_size);})
    .text(function(d) { return '\u2002'+d.rank; });
    node.on("click", function(d) {
        var s = '';
        titles = ["id", "rank", "node_type", "groups"]
        for (var k in titles) {
        	console.log(titles[k]);
            s = s + titles[k] + ': ' + d[titles[k]] + '<br/>';        }
        document.getElementById('info').innerHTML = s;
    })
    node.on("mouseover", function(d) {
    set_highlight(d);
    })
  .on("mousedown", function(d) { d3.event.stopPropagation();
    focus_node = d;
    set_focus(d)
    if (highlight_node === null) set_highlight(d)

}   ).on("mouseout", function(d) {
        exit_highlight();

}   );

        d3.select(window).on("mouseup",
        function() {
        if (focus_node!==null)
        {
            focus_node = null;
            if (highlight_trans<1)
            {

        circle.style("opacity", 1);
      text.style("opacity", 1);
      link.style("opacity", 1);
    }
        }

    if (highlight_node === null) exit_highlight();
        });

function exit_highlight()
{
        highlight_node = null;
    if (focus_node===null)
    {
        svg.style("cursor","move");
        if (highlight_color!="white")
    {
      circle.style(towhite, "white");
      text.style("font-weight", "normal");
      link.style("stroke", function(o) {return (isNumber(o.score) && o.score>=0)?color(o.score):default_link_color});
 }

    }
}

function set_focus(d)
{
if (highlight_trans<1)  {
    circle.style("opacity", function(o) {
                return isConnected(d, o) ? 1 : highlight_trans;
            });

            text.style("opacity", function(o) {
                return isConnected(d, o) ? 1 : highlight_trans;
            });

            link.style("opacity", function(o) {
                return o.source.index == d.index || o.target.index == d.index ? 1 : highlight_trans;
            });
    }
}


function set_highlight(d)
{
    svg.style("cursor","pointer");
    if (focus_node!==null) d = focus_node;
    highlight_node = d;

    if (highlight_color!="white")
    {
          circle.style(towhite, function(o) {
                return isConnected(d, o) ? highlight_color : "white";});
            text.style("font-weight", function(o) {
                return isConnected(d, o) ? "bold" : "normal";});
            link.style("stroke", function(o) {
              return o.source.index == d.index || o.target.index == d.index ? highlight_color : ((isNumber(o.score) && o.score>=0)?color(o.score):default_link_color);

            });
    }
}


  zoom.on("zoom", function() {

    var stroke = nominal_stroke;
    if (nominal_stroke*zoom.scale()>max_stroke) stroke = max_stroke/zoom.scale();
    link.style("stroke-width",stroke);
    circle.style("stroke-width",stroke);

    var base_radius = nominal_base_node_size;
    if (nominal_base_node_size*zoom.scale()>max_base_node_size) base_radius = max_base_node_size/zoom.scale();
        circle.attr("d", d3.svg.symbol()
        .size(function(d) { return Math.PI*Math.pow(size(d.size)*base_radius/nominal_base_node_size||base_radius,2); })
        .type(function(d) { return d.type; }))

    //circle.attr("r", function(d) { return (size(d.size)*base_radius/nominal_base_node_size||base_radius); })
    if (!text_center) text.attr("dx", function(d) { return (size(d.size)*base_radius/nominal_base_node_size||base_radius); });

    var text_size = nominal_text_size;
    if (nominal_text_size*zoom.scale()>max_text_size) text_size = max_text_size/zoom.scale();
    text.style("font-size",text_size + "px");

    g.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
    });

  svg.call(zoom);

  resize();
  //window.focus();
  d3.select(window).on("resize", resize).on("keydown", keydown);

  force.on("tick", function() {

    node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
    text.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

    link.attr("x1", function(d) { return d.source.x; })
      .attr("y1", function(d) { return d.source.y; })
      .attr("x2", function(d) { return d.target.x; })
      .attr("y2", function(d) { return d.target.y; });

    node.attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; });
    });

  function resize() {
    var width = window.innerWidth, height = window.innerHeight;
    svg.attr("width", width).attr("height", height);

    force.size([force.size()[0]+(width-w)/zoom.scale(),force.size()[1]+(height-h)/zoom.scale()]).resume();
    w = width;
    h = height;
    }

    function keydown() {
    if (d3.event.keyCode==32) {  force.stop();}
    else if (d3.event.keyCode>=48 && d3.event.keyCode<=90 && !d3.event.ctrlKey && !d3.event.altKey && !d3.event.metaKey)
    {
  switch (String.fromCharCode(d3.event.keyCode)) {
    case "C": keyc = !keyc; break;
    case "S": keys = !keys; break;
    case "T": keyt = !keyt; break;
    case "R": keyr = !keyr; break;
    case "X": keyx = !keyx; break;
    case "D": keyd = !keyd; break;
    case "L": keyl = !keyl; break;
    case "M": keym = !keym; break;
    case "H": keyh = !keyh; break;
    case "1": key1 = !key1; break;
    case "2": key2 = !key2; break;
    case "3": key3 = !key3; break;
    case "0": key0 = !key0; break;
  }

  link.style("display", function(d) {
                var flag  = vis_by_type(d.source.type)&&vis_by_type(d.target.type)&&vis_by_node_score(d.source.score)&&vis_by_node_score(d.target.score)&&vis_by_link_score(d.score);
                linkedByIndex[d.source.index + "," + d.target.index] = flag;
              return flag?"inline":"none";});
  node.style("display", function(d) {
                return (key0||hasConnections(d))&&vis_by_type(d.type)&&vis_by_node_score(d.score)?"inline":"none";});
  text.style("display", function(d) {
                return (key0||hasConnections(d))&&vis_by_type(d.type)&&vis_by_node_score(d.score)?"inline":"none";});

                if (highlight_node !== null)
                {
                    if ((key0||hasConnections(highlight_node))&&vis_by_type(highlight_node.type)&&vis_by_node_score(highlight_node.score)) { 
                    if (focus_node!==null) set_focus(focus_node);
                    set_highlight(highlight_node);
                    }
                    else {exit_highlight();}
                }

}
}



function vis_by_type(type)
{
    switch (type) {
      case "circle": return keyc;
      case "square": return keys;
      case "triangle-up": return keyt;
      case "diamond": return keyr;
      case "cross": return keyx;
      case "triangle-down": return keyd;
      default: return true;
}
}
function vis_by_node_score(score)
{
    if (isNumber(score))
    {
    if (score>=0.666) return keyh;
    else if (score>=0.333) return keym;
    else if (score>=0) return keyl;
    }
    return true;
}

function vis_by_link_score(score)
{
    if (isNumber(score))
    {
    if (score>=0.666) return key3;
    else if (score>=0.333) return key2;
    else if (score>=0) return key1;
}
    return true;
}

function isNumber(n) {
  return !isNaN(parseFloat(n)) && isFinite(n);
}


</script>
</body></html>
